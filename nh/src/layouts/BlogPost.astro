---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'stories'>['data'];

const { title, pubDate, updatedDate, heroImage } = Astro.props;
---

<article>
  <div class="w-full">
    {
      heroImage && (
        <div class="w-full flex justify-center">
          <Image
            src={heroImage}
            alt=""
            class="max-h-[90vh] w-full h-auto rounded-xl object-contain"
          />
        </div>
      )
    }
  </div>
  <div class="p-4 text-neutral-800">
    <div class="text-center py-4">
      <h1 class="text-3xl font-bold">{title}</h1>
      <p class="text-sm text-neutral-500">
        <FormattedDate date={pubDate} />
        {
          updatedDate && (
            <span class="italic">
              {' '}
              Â· Last updated <FormattedDate date={updatedDate} />
            </span>
          )
        }
      </p>
      <hr class="border-neutral-200" />
    </div>
    <div class="prose prose-neutral max-w-none">
      <slot />
    </div>
  </div>
</article>
